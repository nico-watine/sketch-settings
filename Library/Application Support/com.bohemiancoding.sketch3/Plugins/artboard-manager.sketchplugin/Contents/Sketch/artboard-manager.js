var that=this;function __skpm_run(e,t){that.context=t;var n=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/artboard-manager.js")}({"./node_modules/@skpm/events/index.js":
/*!********************************************!*\
  !*** ./node_modules/@skpm/events/index.js ***!
  \********************************************/
/*! no static exports found */function(e,t){function n(){}n.defaultMaxListeners=10;var i=n.prototype;function r(e){return"function"==typeof e||!(!e||"object"!=typeof e)&&r(e.listener)}i._maxListeners=n.defaultMaxListeners,i._getListeners=function(e){var t=this._getEvents();return t[e]||(t[e]=[])},i._getEvents=function(){return this._events||(this._events={})},i.addListener=function(e){return function(){return this[e].apply(this,arguments)}}("on"),i.emit=function(e){var t,n,i=Array.prototype.slice.call(arguments,1),r=this._getListeners(e)||[];for(n=0;n<r.length;n++)!0===(t=r[n]).once&&this.removeListener(e,t.listener),t.listener.apply(this,i||[]);return r.length>0},i.eventNames=function(){var e=this._getEvents();return Object.keys(e)},i.getMaxListeners=function(){return this._maxListeners},i.listenerCount=function(e){return this._getListeners(e).length},i.listeners=function(e){return this._getListeners(e).map(function(e){return e.listener})},i.on=function(e,t){if(!r(t))throw new Error("listener must be a function");var n=this._getListeners(e),i="object"==typeof t;return this.emit("newListener",e,i?t.listener:t),n.push(i?t:{listener:t,once:!1}),this},i.once=function(e,t){return this.on(e,{listener:t,once:!0})},i.prependListener=function(e,t){if(!r(t))throw new Error("listener must be a function");var n=this._getListeners(e),i="object"==typeof t;return this.emit("newListener",e,i?t.listener:t),n.unshift(i?t:{listener:t,once:!1}),this},i.prependOnceListener=function(e,t){return this.prependListener(e,{listener:t,once:!0})},i.removeAllListeners=function(e){var t=this._getEvents();return"string"==typeof e?delete t[e]:delete this._events,this},i.removeListener=function(e,t){var n=this._getListeners(e),i=function(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}(n,t);return-1!==i&&(n.splice(i,1),this.emit("removeListener",e,t)),this},i.setMaxListeners=function(e){return this._maxListeners=e,this},i.rawListeners=function(e){return this._getListeners(e).slice()},e.exports=n},"./node_modules/cocoascript-class/lib/index.js":
/*!*****************************************************!*\
  !*** ./node_modules/cocoascript-class/lib/index.js ***!
  \*****************************************************/
/*! no static exports found */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SuperCall=void 0,t.default=function(e){const t=e.superclass||NSObject,n=(e.className||e.classname||"ObjCClass")+NSUUID.UUID().UUIDString(),o=new Set(["className","classname","superclass"]);var a=MOClassDescription.allocateDescriptionForClassWithName_superclass_(n,t);const s=[];for(var l in e){const t=e[l];if("function"==typeof t&&"init"!==l){var u=NSSelectorFromString(l);a.addInstanceMethodWithSelector_function_(u,t)}else o.has(l)||(s.push(l),a.addInstanceVariableWithName_typeEncoding(l,"@"))}return a.addInstanceMethodWithSelector_function_(NSSelectorFromString("init"),function(){const t=r.call(this);return s.map(n=>{Object.defineProperty(t,n,{get:()=>(function(e,t){const n=MOPointer.new();return(0,i.object_getInstanceVariable)(e,t,n),n.value().retain().autorelease()})(t,n),set(e){(0,i.object_setInstanceVariable)(t,n,e)}}),t[n]=e[n]}),"function"==typeof e.init&&e.init.call(this),t}),a.registerClass()};var i=n(/*! ./runtime.js */"./node_modules/cocoascript-class/lib/runtime.js");t.SuperCall=i.SuperCall;const r=(0,i.SuperCall)(NSStringFromSelector("init"),[],{type:"@"})},"./node_modules/cocoascript-class/lib/runtime.js":
/*!*******************************************************!*\
  !*** ./node_modules/cocoascript-class/lib/runtime.js ***!
  \*******************************************************/
/*! no static exports found */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SuperCall=function(e,t,n){const r=o("objc_msgSendSuper",[{type:"^"+i},{type:":"},...t],n);return function(...t){const n=function(e,t){return function e(t){if("object"!=typeof t||0==Object.keys(t).length)return t;const n=Object.keys(t)[0];const i=t[n];const r=MOStruct.structureWithName_memberNames_runtime(n,Object.keys(i),Mocha.sharedRuntime());Object.keys(i).map(t=>{r[t]=e(i[t])});return r}({objc_super:{receiver:e,super_class:t}})}(this,this.superclass()),i=MOPointer.alloc().initWithValue_(n);return r(i,e,...t)}},t.CFunc=o;const i='{objc_super="receiver"@"super_class"#}';function r(e,t){const n=NSMutableDictionary.dictionary();n.o=e,Object.keys(t).map(e=>n.setValue_forKeyPath(t[e],"o."+e))}function o(e,t,n){function i(e){if(!e)return null;const t=MOBridgeSupportArgument.alloc().init();return r(t,{type64:e.type}),t}const o=MOBridgeSupportFunction.alloc().init();return r(o,{name:e,arguments:t.map(i),returnValue:i(n)}),o}t.object_getInstanceVariable=o("object_getInstanceVariable",[{type:"@"},{type:"*"},{type:"^@"}],{type:"^{objc_ivar=}"}),t.object_setInstanceVariable=o("object_setInstanceVariable",[{type:"@"},{type:"*"},{type:"@"}],{type:"^{objc_ivar=}"});!function(e,t){const n=MOBridgeSupportController.sharedController().valueForKey("symbols");if(!n)throw Error("Something has changed within bridge support so we can't add our definitions");if(null!==n[e])return;const i=MOBridgeSupportStruct.alloc().init();r(i,{name:e,type:t.type}),n[e]=i}("objc_super",{type:i})},"./node_modules/sketch-module-web-view/lib/browser-api.js":
/*!****************************************************************!*\
  !*** ./node_modules/sketch-module-web-view/lib/browser-api.js ***!
  \****************************************************************/
/*! no static exports found */function(e,t){var n=["NSColor","NSCachedWhiteColor","NSColorSpaceColor","NSDynamicSystemColor","NSCachedColorSpaceColor"];e.exports=function(e,t,i){function r(n){e.isVisible()||(n?(NSApplication.sharedApplication().activateIgnoringOtherApps(!0),t.makeKeyAndOrderFront(null)):t.orderBack(null))}e._panel=t,e._webview=i,e._destroyed=!1,e.destroy=function(){return t.close()},e.close=function(){e.isClosable()&&t.performClose(null)},e.focus=r.bind(this,!0),e.blur=r.bind(this,!1),e.isFocused=function(){return t.isKeyWindow()},e.isDestroyed=function(){return e._destroyed},e.show=function(){return NSApp.activateIgnoringOtherApps(!0),t.makeKeyAndOrderFront(null)},e.showInactive=function(){return t.orderFrontRegardless()},e.hide=function(){return t.orderOut(null)},e.isVisible=function(){return t.isVisible()},e.isModal=function(){return!1},e.maximize=function(){e.isMaximized()||t.zoom(null)},e.unmaximize=function(){e.isMaximized()&&t.zoom(null)},e.isMaximized=function(){if(0!=(t.styleMask()&NSResizableWindowMask))return t.isZoomed();var e=NSScreen.mainScreen().visibleFrame(),n=t.frame();return e.origin.x==n.origin.x&&e.origin.y==n.origin.y&&e.size.width==n.size.width&&e.size.height==n.size.height},e.minimize=function(){return t.miniaturize(null)},e.restore=function(){return t.deminiaturize(null)},e.isMinimized=function(){return t.isMiniaturized()},e.setFullScreen=function(n){n!==e.isFullscreen()&&t.toggleFullScreen(null)},e.isFullscreen=function(){return t.styleMask()&NSFullScreenWindowMask},e.setAspectRatio=function(e){e>0?t.setAspectRatio(NSMakeSize(e,1)):t.setResizeIncrements(NSMakeSize(1,1))},e.setBounds=function(n,i){if(!e.isFullscreen()){var r=n.size,o=NSMakeRect(n.origin.x,0,r.width,r.height),a=NSScreen.screens().firstObject();o.origin.y=NSHeight(a.frame())-r.height-n.origin.y,t.setFrame_display_animate(o,!0,i)}},e.getBounds=function(){return t.frame()},e.setContentBounds=function(){},e.getContentBounds=function(){},e.setSize=function(t,n,i){var r=e.getBounds();return r.size.height=n,r.size.width=t,e.setBounds(r,i)},e.getSize=function(){var t=e.getBounds();return[t.size.width,t.size.height]},e.setContentSize=function(t,n,i){var r=e.getContentBounds();return r.size.height=n,r.size.width=t,e.setContentBounds(r,i)},e.getContentSize=function(){var t=e.getContentBounds();return[t.size.width,t.size.height]},e.setMinimumSize=function(e,n){const i={width:e,height:n};t.setContentMinSize(i)},e.getMinimumSize=function(){const e=t.contentMinSize();return[e.width,e.height]},e.setMaximumSize=function(e,n){const i={width:e,height:n};t.setContentMaxSize(i)},e.getMaximumSize=function(){const e=t.contentMaxSize();return[e.width,e.height]},e.setResizable=function(t){return e._setStyleMask(t,NSResizableWindowMask)},e.isResizable=function(){return t.styleMask()&NSResizableWindowMask},e.setMovable=function(e){return t.setMovable(e)},e.isMovable=function(){return t.isMovable()},e.setMinimizable=function(t){return e._setStyleMask(t,NSMiniaturizableWindowMask)},e.isMinimizable=function(){return t.styleMask()&NSMiniaturizableWindowMask},e.setMaximizable=function(e){t.standardWindowButton(NSWindowZoomButton)&&t.standardWindowButton(NSWindowZoomButton).setEnabled(e)},e.isMaximizable=function(){return t.standardWindowButton(NSWindowZoomButton)&&t.standardWindowButton(NSWindowZoomButton).isEnabled()},e.setFullScreenable=function(t){e._setCollectionBehavior(t,NSWindowCollectionBehaviorFullScreenPrimary),e._setCollectionBehavior(!t,NSWindowCollectionBehaviorFullScreenAuxiliary)},e.isFullScreenable=function(){return t.collectionBehavior()&NSWindowCollectionBehaviorFullScreenPrimary},e.setClosable=function(t){e._setStyleMask(t,NSClosableWindowMask)},e.isClosable=function(){return t.styleMask()&NSClosableWindowMask},e.setAlwaysOnTop=function(e,n,i){var r=NSNormalWindowLevel,o=CGWindowLevelForKey(kCGMaximumWindowLevelKey),a=CGWindowLevelForKey(kCGMinimumWindowLevelKey);e&&(r="normal"===n?NSNormalWindowLevel:"torn-off-menu"===n?NSTornOffMenuWindowLevel:"modal-panel"===n?NSModalPanelWindowLevel:"main-menu"===n?NSMainMenuWindowLevel:"status"===n?NSStatusWindowLevel:"pop-up-menu"===n?NSPopUpMenuWindowLevel:"screen-saver"===n?NSScreenSaverWindowLevel:"dock"===n?NSDockWindowLevel:NSFloatingWindowLevel);var s=r+(i||0);if(!(s>=a&&s<=o))throw new Error("relativeLevel must be between "+a+" and "+o);t.setLevel(s)},e.isAlwaysOnTop=function(){return t.level()!==NSNormalWindowLevel},e.moveTop=function(){return t.orderFrontRegardless()},e.center=function(){t.center()},e.setPosition=function(t,n,i){var r=e.getBounds(),o=NSScreen.screens().firstObject().frame();return r.origin.x=t,r.origin.y=Math.round(NSHeight(o)-n),e.setBounds(r,i)},e.getPosition=function(){var t=e.getBounds(),n=NSScreen.screens().firstObject().frame();return[t.origin.x,Math.round(NSHeight(n)-t.origin.y)]},e.setTitle=function(e){t.setTitle(e)},e.getTitle=function(){return String(t.title())};var o=0;e.flashFrame=function(e){e?o=NSApp.requestUserAttention(NSInformationalRequest):(NSApp.cancelUserAttentionRequest(o),o=0)},e.getNativeWindowHandle=function(){return t},e.getNativeWebViewHandle=function(){return i},e.loadURL=function(e){/^(?!http|localhost|www|file).*\.html?$/.test(e)&&"undefined"!=typeof __command&&__command.pluginBundle()&&(e=__command.pluginBundle().urlForResourceNamed(e).path()),i.setMainFrameURL(e)},e.reload=function(){i.reload()},e.setHasShadow=function(e){return t.setHasShadow(e)},e.hasShadow=function(){return t.hasShadow()},e.setOpacity=function(e){return t.setAlphaValue(e)},e.getOpacity=function(){return t.alphaValue()},e.setVisibleOnAllWorkspaces=function(t){return e._setCollectionBehavior(t,NSWindowCollectionBehaviorCanJoinAllSpaces)},e.isVisibleOnAllWorkspaces=function(){return t.collectionBehavior()&NSWindowCollectionBehaviorCanJoinAllSpaces},e.setIgnoreMouseEvents=function(e){return t.setIgnoresMouseEvents(e)},e.setContentProtection=function(e){t.setSharingType(e?NSWindowSharingNone:NSWindowSharingReadOnly)},e.setAutoHideCursor=function(e){t.setDisableAutoHideCursor(e)},e.setVibrancy=function(n){var i=e._vibrantView;if(!n){if(null==i)return;return i.removeFromSuperview(),void t.setVibrantView(null)}if(null==i){var r=t.contentView();i=NSVisualEffectView.alloc().initWithFrame(r.bounds()),e._vibrantView=i,i.setAutoresizingMask(NSViewWidthSizable|NSViewHeightSizable),i.setBlendingMode(NSVisualEffectBlendingModeBehindWindow),i.setState(NSVisualEffectStateActive),i.setFrame(r.bounds()),r.addSubview_positioned_relativeTo(i,NSWindowBelow,null)}var o=NSVisualEffectMaterialLight;"appearance-based"===n?o=NSVisualEffectMaterialAppearanceBased:"light"===n?o=NSVisualEffectMaterialLight:"dark"===n?o=NSVisualEffectMaterialDark:"titlebar"===n?o=NSVisualEffectMaterialTitlebar:"selection"===n?o=NSVisualEffectMaterialSelection:"menu"===n?o=NSVisualEffectMaterialMenu:"popover"===n?o=NSVisualEffectMaterialPopover:"sidebar"===n?o=NSVisualEffectMaterialSidebar:"medium-light"===n?o=NSVisualEffectMaterialMediumLight:"ultra-dark"===n&&(o=NSVisualEffectMaterialUltraDark),i.setMaterial(o)},e._setBackgroundColor=function(e){var r=function(e){if(!e||"#"!==e[0]){if(e&&e.class&&-1!==n.indexOf(String(e.class())))return e;throw new Error("Incorrect color formating. It should be an hex color: #RRGGBBAA")}var t,i=e.substr(1);if(3===i.length?i+="F":6===i.length&&(i+="FF"),4===i.length)for(var r=0;r<4;r+=1)t+=i[r],t+=i[r];else{if(8!==i.length)return NSColor.whiteColor();t=i}var o=parseInt(t.slice(0,2),16),a=parseInt(t.slice(2,4),16),s=parseInt(t.slice(4,6),16),l=parseInt(t.slice(6,8),16);return NSColor.colorWithSRGBRed_green_blue_alpha(o,a,s,l)}(e);i.setDrawsBackground(!1),t.backgroundColor=r},e._invalidate=function(){t.flushWindow(),t.contentView().setNeedsDisplay(!0)},e._setStyleMask=function(n,i){var r=e.isMaximizable();n?t.setStyleMask(t.styleMask()|i):t.setStyleMask(t.styleMask()&~i),e.setMaximizable(r)},e._setCollectionBehavior=function(n,i){var r=e.isMaximizable();n?t.setCollectionBehavior(t.collectionBehavior()|i):t.setCollectionBehavior(t.collectionBehavior()&~i),e.setMaximizable(r)},e._showWindowButton=function(e){var n=t.standardWindowButton(e);n.superview().addSubview_positioned_relative(n,NSWindowAbove,null)}}},"./node_modules/sketch-module-web-view/lib/constants.js":
/*!**************************************************************!*\
  !*** ./node_modules/sketch-module-web-view/lib/constants.js ***!
  \**************************************************************/
/*! no static exports found */function(e,t){e.exports={JS_BRIDGE:"__skpm_sketchBridge"}},"./node_modules/sketch-module-web-view/lib/dispatch-first-click.js":
/*!*************************************************************************!*\
  !*** ./node_modules/sketch-module-web-view/lib/dispatch-first-click.js ***!
  \*************************************************************************/
/*! no static exports found */function(e,t){e.exports=function(e,t){var n=e.convertPoint_fromView(t.locationInWindow(),null);return"var el = document.elementFromPoint("+n.x+", "+(e.frame().size.height-n.y)+'); if (el && ["text", "textarea", "date", "datetime-local", "email", "number", "month", "password", "search", "tel", "time", "url", "week" ].indexOf(el.type) >= 0 && el.focus) {el.focus();} else if (el) {el.dispatchEvent(new Event("click", {bubbles: true}))}'}},"./node_modules/sketch-module-web-view/lib/fitSubview.js":
/*!***************************************************************!*\
  !*** ./node_modules/sketch-module-web-view/lib/fitSubview.js ***!
  \***************************************************************/
/*! no static exports found */function(e,t){function n(e,t,n,i){n.addConstraint(NSLayoutConstraint.constraintWithItem_attribute_relatedBy_toItem_attribute_multiplier_constant(t,e,NSLayoutRelationEqual,n,e,1,i))}e.exports=function(e,t,i){i=i||[],e.setTranslatesAutoresizingMaskIntoConstraints(!1),n(NSLayoutAttributeLeft,e,t,i[0]||0),n(NSLayoutAttributeTop,e,t,i[1]||0),n(NSLayoutAttributeRight,e,t,i[2]||0),n(NSLayoutAttributeBottom,e,t,i[3]||0)}},"./node_modules/sketch-module-web-view/lib/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/sketch-module-web-view/lib/index.js ***!
  \**********************************************************/
/*! no static exports found */function(e,t,n){var i=n(/*! @skpm/events */"./node_modules/@skpm/events/index.js"),r=n(/*! ./browser-api */"./node_modules/sketch-module-web-view/lib/browser-api.js"),o=n(/*! ./webview-api */"./node_modules/sketch-module-web-view/lib/webview-api.js"),a=n(/*! ./fitSubview */"./node_modules/sketch-module-web-view/lib/fitSubview.js"),s=n(/*! ./dispatch-first-click */"./node_modules/sketch-module-web-view/lib/dispatch-first-click.js"),l=n(/*! ./set-delegates */"./node_modules/sketch-module-web-view/lib/set-delegates.js");function u(e){var t=(e=e||{}).identifier||NSUUID.UUID().UUIDString(),n=NSThread.mainThread().threadDictionary(),c=u.fromId(t);if(c)return c;var d,f=new i;f.id=t;try{d=coscript.createFiber()}catch(e){coscript.shouldKeepAround=!0}var h=e.width||800,m=e.height||600,S=NSScreen.screens().firstObject().frame(),b=NSMakeRect(void 0!==e.x?e.x:Math.round((NSWidth(S)-h)/2),void 0!==e.y?e.y:Math.round((NSHeight(S)-m)/2),h,m);e.titleBarStyle&&"default"!==e.titleBarStyle&&(e.frame=!1);var w="textured"!==e.windowType,p=NSTitledWindowMask;!1!==e.minimizable&&(p|=NSMiniaturizableWindowMask),!1!==e.closable&&(p|=NSClosableWindowMask),!1!==e.resizable&&(p|=NSResizableWindowMask),w&&!e.transparent&&!1!==e.frame||(p|=NSTexturedBackgroundWindowMask);var v=NSPanel.alloc().initWithContentRect_styleMask_backing_defer(b,p,NSBackingStoreBuffered,!0),g=WebView.alloc().initWithFrame(NSMakeRect(0,0,e.width||800,e.height||600));if(g.setAutoresizingMask(NSViewWidthSizable|NSViewHeightSizable),r(f,v,g),o(f,v,g),l(f,v,g),"desktop"===e.windowType&&(v.setLevel(kCGDesktopWindowLevel-1),v.setCollectionBehavior(NSWindowCollectionBehaviorCanJoinAllSpaces|NSWindowCollectionBehaviorStationary|NSWindowCollectionBehaviorIgnoresCycle)),void 0===e.minWidth&&void 0===e.minHeight||f.setMinimumSize(e.minWidth||0,e.minHeight||0),void 0===e.maxWidth&&void 0===e.maxHeight||f.setMaximumSize(e.maxWidth||1e4,e.maxHeight||1e4),e.transparent||!1===e.frame){v.titlebarAppearsTransparent=!0,v.titleVisibility=NSWindowTitleHidden,v.setOpaque(0),v.isMovableByWindowBackground=!0;var y=NSToolbar.alloc().initWithIdentifier("titlebarStylingToolbar");y.setShowsBaselineSeparator(!1),v.setToolbar(y)}if("hiddenInset"===e.titleBarStyle){var _=NSToolbar.alloc().initWithIdentifier("titlebarStylingToolbar");_.setShowsBaselineSeparator(!1),v.setToolbar(_)}!1!==e.frame&&e.useContentSize||f.setSize(h,m),e.center&&f.center(),e.alwaysOnTop&&f.setAlwaysOnTop(!0),e.fullscreen&&f.setFullScreen(!0),f.setFullScreenable(!!e.fullscreenable);const N=e.title||("undefined"!=typeof __command&&__command.pluginBundle()?__command.pluginBundle().name():void 0);N&&f.setTitle(N);var M=e.backgroundColor;e.transparent&&(M=NSColor.clearColor()),!M&&!1===e.frame&&e.vibrancy&&(M=NSColor.clearColor()),f._setBackgroundColor(M||NSColor.windowBackgroundColor()),!1===e.hasShadow&&f.setHasShadow(!1),void 0!==e.opacity&&f.setOpacity(e.opacity),e.webPreferences;var A=v.contentView();return!1!==e.frame?(g.setFrame(A.bounds()),A.addSubview(g)):(A.setAutoresizingMask(NSViewWidthSizable|NSViewHeightSizable),a(A,A.superview()),g.setFrame(A.bounds()),A.addSubview(g),v.standardWindowButton(NSWindowFullScreenButton)&&v.standardWindowButton(NSWindowFullScreenButton).setHidden(!0),e.titleBarStyle&&"default"!==e.titleBarStyle||(v.standardWindowButton(NSWindowZoomButton).setHidden(!0),v.standardWindowButton(NSWindowMiniaturizeButton).setHidden(!0),v.standardWindowButton(NSWindowCloseButton).setHidden(!0),v.standardWindowButton(NSWindowZoomButton).setEnabled(!1))),e.vibrancy&&f.setVibrancy(e.vibrancy),f.setMaximizable(!1!==e.maximizable),e.acceptsFirstMouse&&f.on("focus",function(e){e.type()===NSEventTypeLeftMouseDown&&f.webContents.executeJavaScript(s(g,e))}),!1!==e.show&&f.show(),f.on("closed",function(){f._destroyed=!0,n.removeObjectForKey(t),d?d.cleanup():coscript.shouldKeepAround=!1}),n[t]=v,d&&d.onCleanup(function(){f._destroyed||f.destroy()}),f}u.fromId=function(e){var t=NSThread.mainThread().threadDictionary();if(t[e])return u.fromPanel(t[e],e)},u.fromPanel=function(e,t){var n=new i;if(n.id=t,!e||!e.contentView)throw new Error("needs to pass an NSPanel");var a=e.contentView().subviews()[0];if(!a)throw new Error("The NSPanel needs to have a webview");return r(n,e,a),o(n,e,a),n},e.exports=u},"./node_modules/sketch-module-web-view/lib/parseWebArguments.js":
/*!**********************************************************************!*\
  !*** ./node_modules/sketch-module-web-view/lib/parseWebArguments.js ***!
  \**********************************************************************/
/*! no static exports found */function(e,t){e.exports=function(e){var t=null;try{t=JSON.parse(e[0])}catch(e){}return t&&t.constructor&&t.constructor===Array&&0!=t.length?t:null}},"./node_modules/sketch-module-web-view/lib/set-delegates.js":
/*!******************************************************************!*\
  !*** ./node_modules/sketch-module-web-view/lib/set-delegates.js ***!
  \******************************************************************/
/*! no static exports found */function(e,t,n){var i,r,o=n(/*! cocoascript-class */"./node_modules/cocoascript-class/lib/index.js").default,a=n(/*! ./parseWebArguments */"./node_modules/sketch-module-web-view/lib/parseWebArguments.js"),s=n(/*! ./constants */"./node_modules/sketch-module-web-view/lib/constants.js");e.exports=function(e,t,n){i||(i=o({classname:"WindowDelegateClass",utils:null,"windowDidResize:":function(){this.utils.emit("resize")},"windowDidMiniaturize:":function(){this.utils.emit("minimize")},"windowDidDeminiaturize:":function(){this.utils.emit("restore")},"windowDidEnterFullScreen:":function(){this.utils.emit("enter-full-screen")},"windowDidExitFullScreen:":function(){this.utils.emit("leave-full-screen")},"windowDidMove:":function(){this.utils.emit("move"),this.utils.emit("moved")},"windowShouldClose:":function(){var e=!0;return this.utils.emit("close",{get defaultPrevented(){return!e},preventDefault:function(){e=!1}}),e},"windowWillClose:":function(){this.utils.emit("closed")},"windowDidBecomeKey:":function(){this.utils.emit("focus",t.currentEvent())},"windowDidResignKey:":function(){this.utils.emit("blur")}})),r||(r=o({classname:"FrameLoadDelegateClass",state:NSMutableDictionary.dictionaryWithDictionary({lastQueryId:null,wasReady:0}),utils:null,"webView:didChangeLocationWithinPageForFrame:":function(e){this.utils.emit("did-navigate-in-page",[{},String(e.stringByEvaluatingJavaScriptFromString("window.location.href"))])},"webView:didCreateJavaScriptContext:forFrame:":function(e){e.windowScriptObject().setValue_forKey_(this,s.JS_BRIDGE)},"invokeUndefinedMethodFromWebScript:withArguments:":function(e,t){if("callNative"!==String(e))return!1;var n=this.utils.parseWebArguments(t);return!!n&&(this.utils.emit.apply(this,n),!0)},"webView:didFailLoadWithError:forFrame:":function(e,t){this.utils.emit("did-fail-load",t)},"webView:didFinishLoadForFrame:":function(){0==this.state.wasReady&&(this.utils.emitBrowserEvent("ready-to-show"),this.state.setObject_forKey(1,"wasReady")),this.utils.emit("did-finish-load"),this.utils.emit("did-frame-finish-load"),this.utils.emit("dom-ready")},"webView:didReceiveServerRedirectForProvisionalLoadForFrame:":function(){this.utils.emit("did-get-redirect-request")},"webView:didReceiveTitle:forFrame:":function(e,t){var n=String(t),i=!0;this.utils.emitBrowserEvent("page-title-updated",{get defaultPrevented(){return!i},preventDefault:function(){i=!1}},n),i&&n&&this.utils.setTitle(n)},"webView:didStartProvisionalLoadForFrame:":function(){this.utils.emit("did-start-loading")},"webView:willPerformClientRedirectToURL:delay:fireDate:forFrame:":function(e,t){this.utils.emit("will-navigate",{},String(t.absoluteString))}}));var l=r.new();l.utils=NSDictionary.dictionaryWithDictionary({setTitle:e.setTitle.bind(e),emitBrowserEvent:e.emit.bind(e),emit:e.webContents.emit.bind(e.webContents),parseWebArguments:a}),l.state=NSMutableDictionary.dictionaryWithDictionary({lastQueryId:null,wasReady:0}),n.setFrameLoadDelegate(l);var u=i.new();u.utils=NSDictionary.dictionaryWithDictionary({emit:e.emit.bind(e)}),t.setDelegate(u)}},"./node_modules/sketch-module-web-view/lib/webview-api.js":
/*!****************************************************************!*\
  !*** ./node_modules/sketch-module-web-view/lib/webview-api.js ***!
  \****************************************************************/
/*! no static exports found */function(e,t,n){var i=n(/*! @skpm/events */"./node_modules/@skpm/events/index.js");e.exports=function(e,t,n){var r=new i;r.loadURL=e.loadURL,r.getURL=n.mainFrameURL,r.getTitle=n.mainFrameTitle,r.isDestroyed=function(){},r.isLoading=function(){return n.loading()},r.stop=n.stopLoading,r.reload=n.reload,r.canGoBack=n.canGoBack,r.canGoForward=n.canGoForward,r.goBack=n.goBack,r.goForward=n.goForward,r.executeJavaScript=function(e){return n.stringByEvaluatingJavaScriptFromString(e)},r.undo=function(){n.undoManager().undo()},r.redo=function(){n.undoManager().redo()},r.cut=n.cut,r.copy=n.copy,r.paste=n.paste,r.pasteAndMatchStyle=n.pasteAsRichText,r.delete=n.delete,r.replace=n.replaceSelectionWithText,r.getNativeWebview=function(){return n},e.webContents=r}},"./resources/settings.html":
/*!*********************************!*\
  !*** ./resources/settings.html ***!
  \*********************************/
/*! no static exports found */function(e,n){e.exports="file://"+t.plugin.urlForResourceNamed("_webpack_resources/74e81be066c7b2a85dd399c83ead245f.html").path()},"./src/artboard-manager.js":
/*!*********************************!*\
  !*** ./src/artboard-manager.js ***!
  \*********************************/
/*! exports provided: ArtboardChanged, Duplicate, LayersMoved, ArrangeArtboards, Resize, ResizeArtboardToFit, InsertArtboard */function(e,t,n){"use strict";n.r(t),n.d(t,"ArtboardChanged",function(){return s}),n.d(t,"Duplicate",function(){return u}),n.d(t,"LayersMoved",function(){return c}),n.d(t,"ArrangeArtboards",function(){return d}),n.d(t,"Resize",function(){return f}),n.d(t,"ResizeArtboardToFit",function(){return h}),n.d(t,"InsertArtboard",function(){return m});var i=n(/*! ./artboard-settings.js */"./src/artboard-settings.js"),r=Object(i.getDefaultSettings)(),o=function(e,t){return e.frame().left()-t.frame().left()},a=function(e,t){return e.frame().top()-t.frame().top()};function s(e){console.log("ArtboardChanged")}var l=function(e){console.log("anArtboardIsSelected");var t=(e.document||e.actionContext.document||NSApp.orderedDocuments().firstObject()).selectedLayers().layers();if(console.log(t),t.count()>0)for(var n=Array.from(t),i=0;i<n.length;i++){if("MSArtboardGroup"==n[i].className())return!0}return!1};function u(e){console.log("Duplicate"),l(e)&&d(e)}function c(e){console.log("LayersMoved");for(var t=Array.from(e.actionContext.layers),n=!1,i=0;i<t.length;i++){"MSArtboardGroup"==t[i].className()&&(n=!0)}n&&d(e)}function d(e){console.log("ArrangeArtboards");for(var t=MSDocument.currentDocument(),n=t.selectedLayers(),i=t.currentPage().artboards(),s=MSLayerGroup.groupBoundsForContainer(MSLayerArray.arrayWithLayers(i)),l=(s.size.width,s.size.height),u=s.origin.x,c=s.origin.y,d=(l/r.gridVerticalSpace).toFixed(),f=0,h=c,m=[];f<d;){for(var S=[],b=Array.from(i),w=0;w<b.length;w++){var p=b[w];Math.abs(p.frame().y()-h)<=r.snapDistance&&(p.frame().y=h,S.push(p))}S.length>0&&m.push(S),h+=r.gridVerticalSpace,f++}for(var v=0,g=0,y=0;y<m.length;y++){var _=m[y],N=0,M=!0,A=!1,C=void 0;try{for(var k,W=_[Symbol.iterator]();!(M=(k=W.next()).done);M=!0){var B=k.value;B.frame().y=v+c,N=Math.max(N,B.frame().height())}}catch(e){A=!0,C=e}finally{try{M||null==W.return||W.return()}finally{if(A)throw C}}v+=N+r.gridVerticalSpace/2;var z=0,x=1,F=!0,L=!1,R=void 0;try{for(var D,j=_.sort(o)[Symbol.iterator]();!(F=(D=j.next()).done);F=!0){var O=D.value;O.frame().x=u+z,z+=O.frame().width()+r.gridHorizontalSpace,r.renameArtboards&&O.setName(r.artboardBasenames[g]+x),x++}}catch(e){L=!0,R=e}finally{try{F||null==j.return||j.return()}finally{if(L)throw R}}g++}var V=!0,E=!1,I=void 0;try{for(var T,P=Array.from(i).sort(o).sort(a)[Symbol.iterator]();!(V=(T=P.next()).done);V=!0){var H=T.value,U=H.parentGroup();H.removeFromParent(),U.insertLayer_atIndex(H,0)}}catch(e){E=!0,I=e}finally{try{V||null==P.return||P.return()}finally{if(E)throw I}}for(var G=Array.from(n),K=0;K<G.length;K++){G[K].isSelected=!0}}function f(e){console.log("Resize"),console.log(e.actionContext),"NormalResize"!=e.actionContext.name&&"NormalMultipleResize"!=e.actionContext.name&&"ResizeArtboardToFit.finish"!=e.action||l(e)&&d(),"InsertArtboard"==e.actionContext.name&&r.arrangeOnAdd&&d()}function h(e){console.log("ResizeArtboardToFit"),f(e)}function m(e){console.log("InsertArtboard")}},"./src/artboard-settings.js":
/*!**********************************!*\
  !*** ./src/artboard-settings.js ***!
  \**********************************/
/*! exports provided: settingsKeys, ArtboardSettings, getDefaultSettings */function(e,t,n){"use strict";n.r(t),n.d(t,"settingsKeys",function(){return a}),n.d(t,"ArtboardSettings",function(){return s}),n.d(t,"getDefaultSettings",function(){return u});var i=n(/*! sketch-module-web-view */"./node_modules/sketch-module-web-view/lib/index.js"),r=n.n(i),o=n(/*! sketch/settings */"sketch/settings"),a=(n(/*! sketch/ui */"sketch/ui"),{SNAPDISTANCE:"snapDistance",GRIDHORIZONTALSPACE:"gridHorizontalSpace",GRIDVERTICALSPACE:"gridVerticalSpace",ARRANGEONADD:"arrangeOnAdd",RENAMEARTBOARDS:"renameArtboards",ARTBOARDBASENAMES:"artboardBasenames"});function s(e){var t=new r.a({identifier:"artboardManagerSettings",width:242,height:227,show:!1,resizable:!1,title:"Settings",minimizable:!1,maximizable:!1});t.once("ready-to-show",function(){t.show()});var i=t.webContents;i.on("did-start-loading",function(){i.executeJavaScript("window.settings=".concat(JSON.stringify(u()),";"))}),i.on("updateSettings",function(e){l(e),t.close()}),t.on("closed",function(){t=null}),t.loadURL(n(/*! ../resources/settings.html */"./resources/settings.html"))}function l(e){Object.keys(e).forEach(function(t){o.setSettingForKey(t,e[t])})}function u(){var e=function(){var e={},t=!0;return Object.keys(a).forEach(function(n){e[a[n]]=o.settingForKey(a[n]),t=void 0===e[a[n]]}),{data:e,isUndefined:t}}();if(e.isUndefined){var t={};return t[a.RENAMEARTBOARDS]=!1,t[a.SNAPDISTANCE]=400,t[a.GRIDVERTICALSPACE]=500,t[a.GRIDHORIZONTALSPACE]=50,t[a.ARRANGEONADD]=!1,t[a.ARTBOARDBASENAMES]=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],l(t),t}return e.data}},"sketch/settings":
/*!**********************************!*\
  !*** external "sketch/settings" ***!
  \**********************************/
/*! no static exports found */function(e,t){e.exports=require("sketch/settings")},"sketch/ui":
/*!****************************!*\
  !*** external "sketch/ui" ***!
  \****************************/
/*! no static exports found */function(e,t){e.exports=require("sketch/ui")}});"default"===e&&"function"==typeof n?n(t):n[e](t)}that.ArtboardChanged=__skpm_run.bind(this,"ArtboardChanged"),that.LayersMoved=__skpm_run.bind(this,"LayersMoved"),that.Duplicate=__skpm_run.bind(this,"Duplicate"),that.Resize=__skpm_run.bind(this,"Resize"),that.ResizeArtboardToFit=__skpm_run.bind(this,"ResizeArtboardToFit"),that.InsertArtboard=__skpm_run.bind(this,"InsertArtboard"),that.onRun=__skpm_run.bind(this,"default"),that.ArrangeArtboards=__skpm_run.bind(this,"ArrangeArtboards");